[
  {
    "instruction": "I'm designing a voltage-controlled oscillator for a 2.5GHz RF application requiring comprehensive phase noise characterization. The topology employs a cross-coupled NMOS pair (XM1, XM2) with symmetric LC tank loading, where each tank consists of spiral inductors (XL1, XL2) and MOS varactors (XC1, XC2) for frequency tuning. The design operates with a 2V supply (V1) and utilizes a 1mA bias current (I2) from a current mirror configuration (M1, M2) with 100:1 scaling ratio. Key parameters include: spiral inductors with 60um radius, 10um trace width, 2.5 turns, and 2um spacing; varactors with 40um length and 0.58um width in 5-finger, 2-multiplier configuration; cross-coupled transistors with 350nm effective length, 5um width, and 50-finger layout. For phase noise analysis, configure harmonic balance using shooting method with 10ns stabilization time (tstab=10n) and 0.1 error tolerance (ese=0.1). Perform noise simulation from 1kHz to 100MHz offset with 10 points per decade, using 2.5GHz fundamental frequency and 10 harmonics. Ensure proper convergence with accurate numerical settings (numdgt=8) and random seed initialization (seed=101) for statistical consistency.",
    "output": "* D:\\dzmitrk\\work\\2010\\examples flow\\examples\\Full_Flow_RF_PDK\\VCO\\VCO\n* Gateway 2.12.7.R Spice Netlist Generator\n* Workspace name:       D:\\dzmitrk\\work\\2010\\examples flow\\examples\\Full_Flow_RF_PDK\\VCO\\VCO.workspace\n* Simulation name:      D:\\dzmitrk\\work\\2010\\examples flow\\examples\\Full_Flow_RF_PDK\\VCO\\VCO.schlr\n* Simulation timestamp: 06-May-2010 11:34:00\n\n* Schematic name: VCO\nI1 NET6 vcom PWL(0 0 100p 5e20 200p 0 )\nI2 NET6 NET3 DC 1m\nM1 NET3 NET3 GND GND mn W=8U L=1u AS=3.0064P AD=2.96P PS=8.9116U PD=8.74U M=100\nM2 NET2 NET3 GND GND mn W=8U L=1u AS=3.0064P AD=2.96P PS=8.9116U PD=8.74U M=1K\nV1 NET6 GND DC 2\nV2 NET4 GND DC 0.5\nXC1 NET4 vcop varactor L=40u W=0.58u N=5 M=2\nXC2 NET4 vcom varactor L=40u W=0.58u N=5 M=2\nXL1 NET6 vcom ind WIDTH=10u RAD=60u SPACE=2u NR=2.5 M=1\nXL2 NET6 vcop ind WIDTH=10u RAD=60u SPACE=2u NR=2.5 M=1\nXM1 vcom vcop NET2 NET2 rfnmos3v LR=350N WR=5U NR=50 M=2\nXM2 vcop vcom NET2 NET2 rfnmos3v LR=350N WR=5U NR=50 M=2\n\n* Global Nodes Declarations\n.GLOBAL GND VDD\n\n* End of the netlist\n* Schematic Netlist rebuilt at runtime\n\n* VCO control file\n**********************\n.inc ../libraries/models/sbcd_rf.lib\n.OP\n\n*****Simulation Control******\n.hnoise V(vcop)\n+ DEC 10 1K 100Meg\n+ Fund=2.5e9\n+ nharm=10\n+ annotate=4\n***********************\n+ FAXIS=OUT\n+ FTYPE=REL\n+ RELHARM=1\n+ qload=1\n*********************\n+ method=shooting\n+ tstab=10n\n+ ese=0.1\n+ saveinit\n+ waves\n\n.OPTIONS format savemeasures NOMOD=1 NODECK=1 NOPAGE=1\n+ rawpts=500  numdgt=8 accurate seed=101\n\n.TEMP 27\n\n\n.END"
  },
  {
    "instruction": "I'm characterizing a switched-capacitor integrator circuit for high-precision analog signal processing applications. The design implements a correlated double sampling (CDS) technique to minimize offset and 1/f noise in the operational amplifier. The circuit topology uses a two-phase non-overlapping clock system (ph1, ph2) with four sampling capacitors and two integration capacitors arranged in a fully-differential configuration. Key parameters include: 2V supply voltage, 1V reference voltage, 10MHz clock frequency (100ns period), 45ns pulse width, and 1ns rise/fall times. The capacitor ratios are critical with m_Cf=30 and m_C1=15, using MIM capacitors with 3.2864um length. The op-amp employs a folded-cascode topology with 10uA bias current and specific transistor dimensions (10um/0.5um for current sources, 10um/0.48um for differential pairs). I need to perform transient analysis with 0.1ns resolution over 20us duration to capture settling behavior and charge transfer accuracy. The simulation should verify proper charge redistribution during both clock phases and measure the integrator's transfer function with the 200kHz input sine wave (0.1V amplitude).",
    "output": "* D:\\dzmitrk\\work\\2010\\examples flow\\examples\\Full_Flow_RF_PDK\\SC\\SC_test\n* Gateway 2.12.10.R Spice Netlist Generator\n* Workspace name:       D:\\dzmitrk\\work\\2010\\examples flow\\examples\\Full_Flow_RF_PDK\\SC\\SC.workspace\n* Simulation name:      D:\\dzmitrk\\work\\2010\\examples flow\\examples\\Full_Flow_RF_PDK\\SC\\SC_test.schlr\n* Simulation timestamp: 14-Dec-2010 14:40:01\n\n* Schematic name: SC_test\nV3 in GND SIN(vref 0.1 200k )\nC1 out GND 1f\nV1 VDD GND DC 2\nV2 vref GND DC vref\nV4 ph1 GND DC 0 PULSE(0 2 clk_td clk_tr clk_tf clk_pw clk_per)\nV5 ph2 GND DC 0 PULSE(0 2 \"clk_td+clk_per/2\" clk_tr clk_tf clk_pw clk_per)\nX1 in out ph1 ph2 vref SC_test\n\n* Schematic name: SC_test\n.SUBCKT SC_test in out ph1 ph2 vref\n.PARAM m_Cf=30\n.PARAM m_C1=15\nX1 NET3 vref out OpAmp\nM4 NET2 ph2 vref GND mn W=2U L=0.24U AS=1.32P AD=1.32P PS=5.32U PD=5.32U M=1\nM1 NET1 ph1 in GND mn W=2U L=0.24U AS=1.32P AD=1.32P PS=5.32U PD=5.32U M=1\nM2 NET1 ph2 vref GND mn W=2U L=0.24U AS=1.32P AD=1.32P PS=5.32U PD=5.32U M=1\nM3 NET3 ph1 NET2 GND mn W=2U L=0.24U AS=1.32P AD=1.32P PS=5.32U PD=5.32U M=1\nM13 NET13 ph2 vref GND mn W=2U L=0.24U AS=1.32P AD=1.32P PS=5.32U PD=5.32U M=1\nM14 NET9 ph2 vref GND mn W=2U L=0.24U AS=1.32P AD=1.32P PS=5.32U PD=5.32U M=1\nM15 NET13 ph1 NET3 GND mn W=2U L=0.24U AS=1.32P AD=1.32P PS=5.32U PD=5.32U M=1\nM16 out ph1 NET9 GND mn W=2U L=0.24U AS=1.32P AD=1.32P PS=5.32U PD=5.32U M=1\nXC1 NET2 NET1 mimcap LT=3.2864U M=m_C1\nXC2 NET3 out mimcap LT=3.2864U M=m_Cf\nXC3 NET13 NET9 mimcap LT=3.2864U M=m_C1\n.ENDS SC_test\n\n* Schematic name: OpAmp\n.SUBCKT OpAmp inm inp out\nI2 VDD NET3 DC 10u\nM1 NET2 NET3 GND GND mn W=10U L=0.5u AS=4.28P AD=3.7P PS=12.856U PD=10.74U M=10\nM2 NET3 NET3 GND GND mn W=10U L=0.5u AS=6.6P AD=6.6P PS=21.32U PD=21.32U M=1\nM3 NET1 inp NET2 GND mn W=10U L=0.48u AS=4.28P AD=3.7P PS=12.856U PD=10.74U M=20\nM4 out inm NET2 GND mn W=10U L=0.48u AS=4.28P AD=3.7P PS=12.856U PD=10.74U M=20\nM5 out NET1 VDD VDD mp W=10U L=0.48u AS=3.99P AD=3.7P PS=11.798U PD=10.74U M=40\nM6 NET1 NET1 VDD VDD mp W=10U L=0.48u AS=3.99P AD=3.7P PS=11.798U PD=10.74U M=40\n.ENDS OpAmp\n\n* Global Nodes Declarations\n.GLOBAL GND VDD\n\n* End of the netlist\n* Schematic Netlist rebuilt at runtime\n\n.inc ..\\libraries\\models\\sbcd_rf.lib\n.OP\n\n.param vref = 1_V\n.param clk_td = 1n\n.param clk_tr = 1n\n.param clk_tf = 1n\n.param clk_pw = 45n\n.param clk_per = 100n\n.param m_C1 = 15\n.param m_C2 = 10\n.param m_Cf = 30\n\n\n*>>>>>>>>>     Simulation Control     <<<<<<<<<<<<<<<<<<<<<<<<<<<<\n.OPTIONS format savemeasures NOMOD=1 NODECK=1 NOPAGE=1  rawpts=500  numdgt=8 accurate seed=101\n.TEMP 27\n\n.TRAN 0.1n 20u\n\n.END"
  },
  {
    "instruction": "I'm characterizing a switched-capacitor integrator circuit for analog-to-digital converter applications operating at 10MHz clock frequency. The design implements a fully-differential switched-capacitor topology using non-overlapping clock phases with 2V supply voltage and 1V reference voltage. Key circuit parameters include: sampling capacitor (m_C1) of 15 units, feedback capacitor (m_Cf) of 30 units, NMOS switches with W=2um/L=0.24um dimensions, and operational amplifier employing 10uA bias current with 20/40 transistor ratios in the differential pair and current mirror. The clock specifications are 100ns period, 45ns pulse width, and 1ns rise/fall times. I need to perform periodic steady-state analysis using shooting method with 10us stabilization time and 10ns time step to establish proper charge transfer behavior. The simulation should include both AC response from 100Hz to 5MHz with 10 points per decade and noise analysis to determine the circuit's transfer function and noise performance, capturing up to 10 harmonics with KMAX=20 for accurate sideband representation.",
    "output": "* D:\\dzmitrk\\work\\2010\\examples flow\\examples\\Full_Flow_RF_PDK\\SC\\SC_test_PSS\n* Gateway 2.12.10.R Spice Netlist Generator\n* Workspace name:       D:\\dzmitrk\\work\\2010\\examples flow\\examples\\Full_Flow_RF_PDK\\SC\\SC.workspace\n* Simulation name:      D:\\dzmitrk\\work\\2010\\examples flow\\examples\\Full_Flow_RF_PDK\\SC\\SC_test_PSS.schlr\n* Simulation timestamp: 14-Dec-2010 14:39:42\n\n* Schematic name: SC_test_PSS\nX1 in out ph1 ph2 vref SC_test\nV3 in GND DC vref AC 1\nC1 out GND 1f\nV1 VDD GND DC 2\nV2 vref GND DC vref\nV4 ph1 GND DC 0 PULSE(0 2 clk_td clk_tr clk_tf clk_pw clk_per)\nV5 ph2 GND DC 0 PULSE(0 2 \"clk_td+clk_per/2\" clk_tr clk_tf clk_pw clk_per)\n\n* Schematic name: SC_test\n.SUBCKT SC_test in out ph1 ph2 vref\n.PARAM m_Cf=30\n.PARAM m_C1=15\nX1 NET3 vref out OpAmp\nM4 NET2 ph2 vref GND mn W=2U L=0.24U AS=1.32P AD=1.32P PS=5.32U PD=5.32U M=1\nM1 NET1 ph1 in GND mn W=2U L=0.24U AS=1.32P AD=1.32P PS=5.32U PD=5.32U M=1\nM2 NET1 ph2 vref GND mn W=2U L=0.24U AS=1.32P AD=1.32P PS=5.32U PD=5.32U M=1\nM3 NET3 ph1 NET2 GND mn W=2U L=0.24U AS=1.32P AD=1.32P PS=5.32U PD=5.32U M=1\nM13 NET13 ph2 vref GND mn W=2U L=0.24U AS=1.32P AD=1.32P PS=5.32U PD=5.32U M=1\nM14 NET9 ph2 vref GND mn W=2U L=0.24U AS=1.32P AD=1.32P PS=5.32U PD=5.32U M=1\nM15 NET13 ph1 NET3 GND mn W=2U L=0.24U AS=1.32P AD=1.32P PS=5.32U PD=5.32U M=1\nM16 out ph1 NET9 GND mn W=2U L=0.24U AS=1.32P AD=1.32P PS=5.32U PD=5.32U M=1\nXC1 NET2 NET1 mimcap LT=3.2864U M=m_C1\nXC2 NET3 out mimcap LT=3.2864U M=m_Cf\nXC3 NET13 NET9 mimcap LT=3.2864U M=m_C1\n.ENDS SC_test\n\n* Schematic name: OpAmp\n.SUBCKT OpAmp inm inp out\nI2 VDD NET3 DC 10u\nM1 NET2 NET3 GND GND mn W=10U L=0.5u AS=4.28P AD=3.7P PS=12.856U PD=10.74U M=10\nM2 NET3 NET3 GND GND mn W=10U L=0.5u AS=6.6P AD=6.6P PS=21.32U PD=21.32U M=1\nM3 NET1 inp NET2 GND mn W=10U L=0.48u AS=4.28P AD=3.7P PS=12.856U PD=10.74U M=20\nM4 out inm NET2 GND mn W=10U L=0.48u AS=4.28P AD=3.7P PS=12.856U PD=10.74U M=20\nM5 out NET1 VDD VDD mp W=10U L=0.48u AS=3.99P AD=3.7P PS=11.798U PD=10.74U M=40\nM6 NET1 NET1 VDD VDD mp W=10U L=0.48u AS=3.99P AD=3.7P PS=11.798U PD=10.74U M=40\n.ENDS OpAmp\n\n* Global Nodes Declarations\n.GLOBAL GND VDD\n\n* End of the netlist\n* Schematic Netlist rebuilt at runtime\n\n\n.OP\n\n.param vref = 1_V\n.param clk_td = 1n\n.param clk_tr = 1n\n.param clk_tf = 1n\n.param clk_pw = 45n\n.param clk_per = 100n\n.param m_C1 = 15\n.param m_C2 = 10\n.param m_Cf = 30\n\n.inc ..\\libraries\\models\\sbcd_rf.lib\n*>>>>>>>>>     Simulation Control     <<<<<<<<<<<<<<<<<<<<<<<<<<<<\n.OPTIONS format savemeasures NOMOD=1 NODECK=1 NOPAGE=1  rawpts=500  numdgt=8 accurate seed=101\n.TEMP 27\n\n.HAC                     $ PSS AC Analysis\n+ DEC 10 100Hz 5MegHz    $ Frequency sweep Number of points per decade=100 fstart=1 fstop=10Mhz\n+ fund=10MHz             $ Fundamental frequency\n+ nharm=10               $ Maximum number of computed harmonics\n+ SB(0)                  $ Set of n integer numbers representing the sidebands\n+ KMAX=20                $ ignores noise at frequencies <= fout - Kmax x fund and >= fout + Kmax x fund\n+ method=shooting        $ Steady-state analysis by SHOOTING method. A must be for SC circuits\n+ tstep=10n              $ Time step to define timestep control parameters\n+ tstab=10u              $ Time of Initial transient analysis to let the circuit settle\n+ annotate=4             $ Prints information in the output file\n+ waves                  $ Generate time domain OP waveforms\n\n.HNOISE V(out) V(in)\n+ DEC 10 100Hz 5MHz\n+ fund=10MHz\n+ nharm=10\n+ SB(0)\n+ KMAX=20\n+ method=shooting\n+ tstep=10n\n+ tstab=10u\n+ annotate=4\n+ waves\n\n\n.END"
  },
  {
    "instruction": "I'm designing a low-noise amplifier (LNA) for a 2.4GHz wireless receiver front-end that requires third-order intercept point (IIP3) characterization. The circuit employs a cascode topology with inductive source degeneration for input matching and noise optimization. Key specifications include: 2V supply voltage, on-chip spiral inductors with 60um radius and 10um trace width (6.5 turns for input/output matching, 2.5 turns for bias), and MOS transistors with 240nm gate length (40 fingers for cascode device, 64 fingers for common-source stage). The design uses mim capacitors (6.57um length, 5 multiplier) and polysilicon resistors (65um and 30um lengths) for bias and matching networks. For IIP3 analysis, I need to perform a two-tone test using harmonic balance simulation with 50MHz fundamental frequency and 50 harmonics. The input power sweep ranges from -60dBm to -10dBm in 5dB steps, with test tones at 2.4GHz and 2.45GHz (48th and 49th harmonics). The simulation should measure fundamental output power at 2.4GHz and third-order intermodulation product at 2.5GHz, then automatically extract IIP3 using extrapolation point at -55dBm. The analysis requires proper annotation settings and wave saving for accurate intermodulation product characterization.",
    "output": "* D:\\dzmitrk\\work\\2010\\examples flow\\examples\\Full_Flow_RF_PDK\\LNA\\LNA_iip3\n* Gateway 2.12.7.R Spice Netlist Generator\n* Workspace name:       D:\\dzmitrk\\work\\2010\\examples flow\\examples\\Full_Flow_RF_PDK\\LNA\\LNA.workspace\n* Simulation name:      D:\\dzmitrk\\work\\2010\\examples flow\\examples\\Full_Flow_RF_PDK\\LNA\\LNA_iip3.schlr\n* Simulation timestamp: 06-May-2010 10:58:30\n\n* Schematic name: LNA_iip3\nXC1 NET7 Vout mimcap LT=6.5728U M=5\nC1 NET3 Vin 200p\nPout Vout GND R=50\nPrf Vin GND R=50\n+MTS1(prf 0 48 )\n+MTS2(prf 0 49 )\nV1 NET1 GND DC 2\nXL1 NET1 NET7 ind WIDTH=10u RAD=60u SPACE=2u NR=6.5 M=1\nXL2 NET6 GND ind WIDTH=10u RAD=60u SPACE=2u NR=2.5 M=1\nXL3 NET3 NET4 ind WIDTH=10u RAD=60u SPACE=2u NR=6.5 M=1\nXM1 NET7 NET1 NET8 NET8 rfnmos2v LR=240N WR=5U NR=40 M=1\nXM2 NET8 NET4 NET6 NET6 rfnmos2v LR=240N WR=5U NR=64 M=1\nXM3 NET5 NET5 GND GND rfnmos2v LR=240N WR=5U NR=8 M=1\nXR1 NET1 NET5 rpoly W=2U L=65.007U nc=3 M=1\nXR2 NET5 NET4 rpoly_rf L=30U W=2U NC=2 M=1\n\n* Global Nodes Declarations\n.GLOBAL GND VDD\n\n* End of the netlist\n\n*\n* Markers to save\n*\n.SAVE V(Vout)\n\n* Schematic Netlist rebuilt at runtime\n\n*\n.inc ..\\libraries\\models\\sbcd_rf.lib\n.OP\n*\n.PARAM PRF=-40_dBm\n.OPTIONS EXPERT=777\n\n************************************************************\n* SIMULATION 3 (IIP3 plot) *\n************************************************************\n.HARMONIC\n+ FUND=50MegHz nharm=50\n+ annotate=3 waves\n+ SWEEP prf -60 -10 5\n.LET HARM_SP POUT=r(@Pout[POUT]) ; real part saves pout (dBm)sign\n.MEASURE HARM_SP POUT_1 FIND POUT AT=2400Meg ; 1st order harmonic\n.MEASURE HARM_SP POUT_3 FIND POUT AT=2500Meg ; 3rd order harmonic\n.MEASURE MEAS resIP3 IP3 POUT_1 POUT_3 EP=-55\n\n.END"
  },
  {
    "instruction": "I'm designing a low-noise amplifier for 2.4GHz wireless applications requiring comprehensive RF performance characterization. The topology employs a cascode configuration (XM1, XM2) with inductive source degeneration (XL4) for input matching and noise optimization. Key device parameters include: 2V supply voltage, 240nm gate length transistors with width ratios of 5um\u00d740 (cascode device) and 5um\u00d764 (input device), and 200fF DC-blocking capacitor. The matching network utilizes on-chip spiral inductors with 60um radius, 10um trace width, and 6.5 turns for input/output matching, plus a 2.5-turn source degeneration inductor. I need to perform harmonic balance analysis with 10 harmonics at 2.4GHz fundamental frequency, sweeping input power from -50dBm to 0dBm in 11 linear steps to extract 1dB compression point using automatic measurement with extrapolation at -45dBm. Additionally, configure small-signal S-parameter analysis from 600MHz to 6GHz with noise, stability circles, and gain circles to evaluate input matching, noise figure, and unconditional stability across the operating band.",
    "output": "* D:\\dzmitrk\\work\\2010\\examples flow\\examples\\Full_Flow_RF_PDK\\LNA\\LNA\n* Gateway 2.12.7.R Spice Netlist Generator\n* Workspace name:       D:\\dzmitrk\\work\\2010\\examples flow\\examples\\Full_Flow_RF_PDK\\LNA\\LNA.workspace\n* Simulation name:      D:\\dzmitrk\\work\\2010\\examples flow\\examples\\Full_Flow_RF_PDK\\LNA\\LNA.schlr\n* Simulation timestamp: 06-May-2010 11:01:18\n\n* Schematic name: LNA\nXM3 NET7 NET7 GND GND rfnmos2v LR=240N WR=5U NR=8 M=1\nC5 NET8 Vin 200p\nPout Vout GND R=50\nPrf Vin GND ACMAG=prf ACPHASE=0 R=50 MAG1=prf PHASE1=0\nV1 VDD2 GND DC 2\nXC2 NET3 Vout mimcap LT=6.5728U M=5\nXL1 VDD2 NET3 ind WIDTH=10u RAD=60u SPACE=2u NR=6.5 M=1\nXL2 NET8 NET4 ind WIDTH=10u RAD=60u SPACE=2u NR=6.5 M=1\nXL4 NET1 GND ind WIDTH=10u RAD=60u SPACE=2u NR=2.5 M=1\nXM1 NET3 VDD2 NET5 NET5 rfnmos2v LR=240N WR=5U NR=40 M=1\nXM2 NET5 NET4 NET1 NET1 rfnmos2v LR=240N WR=5U NR=64 M=1\nXR1 VDD2 NET7 rpoly W=2U L=65.007U nc=3 M=1\nXR2 NET7 NET4 rpoly_rf L=30U W=2U NC=2 M=1\n\n* Global Nodes Declarations\n.GLOBAL GND VDD VDD2\n\n* End of the netlist\n\n*\n* Markers to save\n*\n.SAVE V(Vout)\n\n* Schematic Netlist rebuilt at runtime\n\n*\n.inc ..\\libraries\\models\\sbcd_rf.lib\n.OP\n*\n.PARAM PRF=-40_dBm\n.OPTIONS EXPERT=777\n\n*#com\n********************************\n* SIMULATION 1 (HNET) *\n********************************\n.HNET PRF POUT\n+  LIN 600 10MegHz 6GHz\n+  FUND=10GHz\n+  ANNOTATE = 4\n+  WAVES\n+  NOISE\n+  LOAD_STAB_CIRCLES\n+  SOURCE_STAB_CIRCLES\n+  GAIN_CIRCLES\n+  POWER_GAIN_CIRCLES\n*#endcom\n\n#com\n************************************************************\n* SIMULATION 2 (P1db) (PARAMETRIC SWEEP)*\n************************************************************\n.HARM\n+ FUND=2400MegHz\n+ NHARM=10\n+ ANNOTATE = 3\n+ WAVES\n+ SWEEP prf LIN 11 -50 0\n.MEASURE HARM_SP dbOUT EXPR VAL='@Pout[pout1]' ; at 2400MegHz\n.MEASURE MEAS r_1dbCompression COMPR1DB dbOUT EP=-45\n#endcom\n\n.END"
  }
]